<!DOCTYPE>
<html>
	<head>
		<meta charset="utf-8">
		<title>Henry's Dill Pickles</title>
		<link rel="stylesheet" href="main.css">
	</head>

	<body>
		<div class="body">
			<section>
				<a href="index.html"><img src="Logo2.png"></a>
				<h1 class="head">Henry's Dill Pickles</h1>
				<div class="links">
					<ul>
						<li id="l"><a href="index.html" style="color: white;">HOME</a></li>
						<li id="l" style="color: white;">ORDER</li>
						<li id="l"><a href="reviews.html" style="color: white;">REVIEWS</a></li>
					</ul>
				</div>
			</section>
			<br>
			
			<div id="orderpage">
				<!--<h1 class="orderhead">Sorry, all out! Come back next year!</h1><br>-->
				<h1 class="orderhead">Cost per Pint Jar: $5</h1><br>
				<p class="optional2">Payment collected upon pickup or delivery</p><br>
				<p class="optional2">OR</p><br>
				<p class="optional2">Venmo order total to @BETHANY-MOORE-0</p><br>


				
					<div class="emailInfo">

						<label for="name" class="name">Full Name:</label><br>
						<input type="text" id="name" name="name" required><br><br>

						<label for="email" class="email">Your Email:</label><br>
						<input type="email" id="email" name="email" required><br><br>

						<label for="address">Street Address:</label><br>
						<input type="text" id="address" name="address" required><br><br>

						<label for="city">City:</label><br>
						<input type="text" id="city" name="city" required><br><br>

						<label for="state">State:</label><br>
						<input type="text" id="state" name="state" required><br><br>
						<br><br>

						<label for="comments">Comments or Questions?</label><br>
						<textarea id="comments" name="comments" cols="20" rows="8"></textarea><br><br><br>

						<!--<label for="pickup" class="pickup">Pickup or Delivery?</label><br>
						<p class="optional">Local Deliveries Only!</p>
						<p class="optional">$1 Extra For Delivery</p>

						<div class="selector">
							<select name="pickupdelivery" id="pickup">
								<option id="pickup1" name="pickuptot" value="1">Pickup</option>
								<option id="delivery" name="delivery" value="2">Delivery</option>
							</select>
						</div>-->
					</div><br><br>
					
					

					<div class="orders">
						<div class="order1">
							<center>
								<label for="amount1" class="amount1title">Order #1:</label>
								<p class="optional">*required</p>
								<label for="amount1">Qty: </label>
								<input type="number" id="amount1" name="amount1" required><br><br>

								<label for="type1">Type: </label>
								<select id="type1" name="type1">
									<option value=""></option>
									<option value="Original">Original</option>
									<option value="Extra Garlic">Extra Garlic</option>
									<option value="Spicy">Spicy</option>
								</select>
								<!--<label for="size1">Size: </label>
								<select id="size1" name="size1">
									<option value="5">Pint</option>
									<option value="10" id="quart">Quart</option>
								</select>-->
							</center>
						</div><br><br>

						<div class="order2">
							<center>
								<label for="amount2" class="amount2title">Order #2:</label>
								<p class="optional">*optional</p>
								<label for="amount2">Qty: </label>
								<input type="number" id="amount2" name="amount2"><br><br>

								<label for="type2">Type: </label>
								<select id="type2" name="type2">
									<option value=""></option>
									<option value="Original">Original</option>
									<option value="Extra Garlic">Extra Garlic</option>
									<option value="Spicy">Spicy</option>
								</select>
								<!--<label for="size2">Size: </label>
								<select id="size2" name="size2">
									<option value="5">Pint</option>
									<option value="10">Quart</option>
								</select>-->
							</center>
						</div><br><br>

						<div class="order3">
							<center>
								<label for="amount3" class="amount3title">Order #3:</label>
								<p class="optional">*optional</p>
								<label for="amount3">Qty: </label>
								<input type="number" id="amount3" name="amount3"><br><br>

								<label for="type3">Type: </label>
								<select id="type3" name="type3">
									<option value=""></option>
									<option value="Original">Original</option>
									<option value="Extra Garlic">Extra Garlic</option>
									<option value="Spicy">Spicy</option>
								</select>
								<!--<label for="size3">Size: </label>
								<select id="size3" name="size3">
									<option value="5">Pint</option>
									<option value="10">Quart</option>
								</select>-->
							</center>
						</div><br><br>
						
						<!--<div class="order4">
							<center>
								<label for="amount4" class="amount4title">Order #4:</label>
								<p class="optional">*optional</p>
								<label for="amount4">Qty: </label>
								<input type="number" id="amount4" name="amount4" min="1"max="20"><br><br>

								<label for="type4">Type: </label>
								<select id="type4" name="type4">
									<option value="1" disabled>Original - Out Of Stock</option>
									<option value="2" disabled>Extra Garlic - Out Of Stock</option>
									<option value="3" disabled>Spicy - Out Of Stock</option>
									<option value="4" disabled>Special Recipe - Out Of Stock</option>
								</select>
							</center>
						</div><br><br>
						
						<div class="order5">
							<center>
								<label for="amount5" class="amount5title">Order #5:</label>
								<p class="optional">*optional</p>
								<label for="amount5">Qty: </label>
								<input type="number" id="amount5" name="amount5" min="1"max="20"><br><br>

								<label for="type5">Type: </label>
								<select id="type5" name="type5">
									<option value="1" disabled>Original - Out Of Stock</option>
									<option value="2" disabled>Extra Garlic - Out Of Stock</option>
									<option value="3" disabled>Spicy - Out Of Stock</option>
									<option value="4" disabled>Special Recipe - Out Of Stock</option>
								</select>
							</center>
						</div>-->
					</div><br>

					<input type="submit" name="submit" class="sendButton" id="insertdata" value="Place Order">
				
				<div class="cost">
					<button id="calculate">Calculate Cost</button><br>
					<h1 id="total" name="Cost">Total Cost: $0</h1>
				</div>
			</div>
			
		</div>
			<script type="module">
				// Import the functions you need from the SDKs you need
				import { initializeApp } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-app.js";
				// TODO: Add SDKs for Firebase products that you want to use
				// https://firebase.google.com/docs/web/setup#available-libraries
			
				// Your web app's Firebase configuration
				const firebaseConfig = {
				apiKey: "AIzaSyDEd3p345bo8RKRsLjbQo1AKbNG-BLwN9g",
				authDomain: "henry-s-pickle-orders.firebaseapp.com",
				databaseURL: "https://henry-s-pickle-orders-default-rtdb.firebaseio.com",
				projectId: "henry-s-pickle-orders",
				storageBucket: "henry-s-pickle-orders.appspot.com",
				messagingSenderId: "296129910902",
				appId: "1:296129910902:web:9b405c070cd67e78242757"
				};
			
				// Initialize Firebase
				const app = initializeApp(firebaseConfig);
				
				import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-database.js";
			        const db = getDatabase();
			            
			        /*const name = document.getElementById("name").value;
				const email = document.getElementById("email").value;
				const address = document.getElementById("address").value;
				const city = document.getElementById("city").value;
				const state = document.getElementById("state").value;
				const comments = document.getElementById("comments").value;
				const ordertype1 = document.getElementById("type1").value;
				const orderamount1 = document.getElementById("amount1").value;*/
			        const insBtn = document.getElementById("insertdata");
			            
			        document.querySelector("#insertdata").addEventListener("click", ()=>{
				        const name = document.getElementById("name").value;
					const email = document.getElementById("email").value;
					const address = document.getElementById("address").value;
					const city = document.getElementById("city").value;
					const state = document.getElementById("state").value;
					const comments = document.getElementById("comments").value;
					const order1type = document.getElementById("type1").value;
					const order1amount = document.getElementById("amount1").value;
					const order2type = document.getElementById("type2").value;
					const order2amount = document.getElementById("amount2").value;
					const order3type = document.getElementById("type3").value;
					const order3amount = document.getElementById("amount3").value;

					if(name == "") { 
						alert("Please enter your name");
					} else if(email == "") {
						alert("Please enter an email");
					} else if(address == "") {
						alert("Please enter an address");
					} else if(city == "") {
						alert("Please enter a city");
					} else if(state == "") {
						alert("Please enter a state");
					} else if(order1type == "") {
						alert("Please order a flavor!");
					} else if(order1amount == "") {
						alert("Please order some pickles!");
					} else {
				                
			                set(ref(db, "Customers/" + name), {
				        	name: name,
				                email: email,
						address: address,
						city: city,
						state: state,
						comments: comments,
						order1type: order1type,
						order1amount: order1amount,
						order2type: order2type,
						order2amount: order2amount,
						order3type: order3type,
						order3amount: order3amount
				        })
				        .then(()=>{
						$("#orderpage").html("<center><h1>Thank you for your order!</h1><br><p>Your jars are being prepared.</p><br><p>Henry will contact you regarding your order.</p><br></center>");
				        })
				        .catch((error)=>{
				        	alert("Unsuccessful, error " + error);
				        });

					}
			        });
				
			</script>
		<script src="https://code.jquery.com/jquery-2.1.4.js"></script>
		<script src="script.js"></script>
		
	</body>

</html>
